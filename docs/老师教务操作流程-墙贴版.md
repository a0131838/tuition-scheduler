# 老师 + 教务 操作流程（墙贴版 / 1页）

更新日期：2026-02-14

## A. 教务每日五步（先风险后排课）
1. ` /admin/todos `：先清“昨日/今日未点名”。
2. ` /admin/conflicts `：冲突当日清零。
3. ` /admin/schedule `：处理调课（换老师/删课/看低余额）。
4. ` /admin/schedule/new `：补课、临时加课、建预约。
5. 收工复核：明日提醒、续费预警、抽检3-5条调课记录。

## B. 老师每日四步（课前确认 + 课后闭环）
1. ` /teacher `：确认今日/明日课程。
2. ` /teacher/availability `：维护未来2-4周可上课时间。
3. ` /teacher/sessions/[id] `：每节课后及时点名。
4. ` /teacher/sessions/[id] `：提交课后反馈（建议当日完成）。

## C. 三条硬规则
1. 冲突统一在 ` /admin/conflicts ` 处理，不在其他页面“盲改”。
2. 先有有效课包，再报名/排课。
3. 未点名不得跨天堆积。

## D. 异常速查
- `Student has no active package for this course`
  - 先建/续课包，再排课。
- `No eligible teachers`
  - 查授课能力、availability、冲突中心。
- `Outside availability`
  - 调整课次时间或先维护老师可用时段。

## E. 端到端最短路径
1. 新学员：`students` → `packages` → `schedule/new` → 老师确认 → 点名反馈。
2. 调课代课：`conflicts` 先约课后课次 → `schedule` 复核结果。
3. 临时取消：`schedule`/`conflicts` 取消 → 通知师生 → 复核点名/扣费一致性。

## F. 每日打卡
- 教务：
  - [ ] 未点名清零
  - [ ] 冲突清零
  - [ ] 当日调课完成
  - [ ] 续费预警分配
  - [ ] 明日提醒复核
- 老师：
  - [ ] 今日/明日课程确认
  - [ ] 可上课时间维护
  - [ ] 当日点名完成
  - [ ] 课后反馈完成
